[{"content":"Word frequency # encoding: utf-8 import jieba import pandas as pd import datetime as dt class wordCount(): def __init__(self): self.pre_data() def pre_data(self): jieba.load_userdict(\u0026#39;./dict.txt\u0026#39;) stopwords = pd.read_table(\u0026#39;./stop.txt\u0026#39;) self.stop_list = stopwords[\u0026#34;stop_word\u0026#34;].tolist() self.stop_list.append(\u0026#34;\\n\u0026#34;) def run(self, year, month): start = dt.date(year, month, 1) if month == 6: end = dt.date(year, month, 30) else: end = dt.date(year, month, 31) sql = \u0026#34;\u0026#34;\u0026#34;select fund_id, report_date, outlook as sentence from manager_viewpoint where report_date between \u0026#39;{}\u0026#39; and \u0026#39;{}\u0026#39;\u0026#34;\u0026#34;\u0026#34;.format(dt.datetime.strftime(start, \u0026#39;%Y-%m-%d\u0026#39;), dt.datetime.strftime(end, \u0026#39;%Y-%m-%d\u0026#39;)) df = pd.DataFrame() df[\u0026#39;token\u0026#39;] = df[\u0026#39;sentence\u0026#39;].apply(lambda x: [i for i in list(jieba.cut(x)) if i not in self.stop_list]) words = [] for content in df[\u0026#39;token\u0026#39;]: words.extend(content) corpus = pd.DataFrame(words, columns=[\u0026#39;word\u0026#39;]) corpus[\u0026#39;count\u0026#39;] = 1 group = corpus.groupby(\u0026#39;word\u0026#39;)[\u0026#34;count\u0026#34;].count().sort_values(ascending=False).reset_index() group[\u0026#34;statistic_date\u0026#34;] = end print(group.tail(1)) if __name__ == \u0026#39;__main__\u0026#39;: word_count = wordCount() for year in [2021]: word_count.run(year, 6) ","permalink":"https://sacredartr.github.io/posts/nlp/","summary":"Word frequency # encoding: utf-8 import jieba import pandas as pd import datetime as dt class wordCount(): def __init__(self): self.pre_data() def pre_data(self): jieba.load_userdict(\u0026#39;./dict.txt\u0026#39;) stopwords = pd.read_table(\u0026#39;./stop.txt\u0026#39;) self.stop_list = stopwords[\u0026#34;stop_word\u0026#34;].tolist() self.stop_list.append(\u0026#34;\\n\u0026#34;) def run(self, year, month): start = dt.date(year, month, 1) if month == 6: end = dt.date(year, month, 30) else: end = dt.date(year, month, 31) sql = \u0026#34;\u0026#34;\u0026#34;select fund_id, report_date, outlook as sentence from manager_viewpoint where report_date between \u0026#39;{}\u0026#39; and \u0026#39;{}\u0026#39;\u0026#34;\u0026#34;\u0026#34;.format(dt.datetime.strftime(start, \u0026#39;%Y-%m-%d\u0026#39;), dt.","title":"NLP"},{"content":"Tools Daily Tips ASCII text art generator https://textkool.com/en/ascii-art-generator?hl=default\u0026amp;vl=default\u0026amp;font=Red%20Phoenix\u0026amp;text=Your%20text%20here%20 draw https://www.draw.io/index.html kubernetes https://kubernetes.io/ ","permalink":"https://sacredartr.github.io/posts/tools-daily-tips/","summary":"Tools Daily Tips ASCII text art generator https://textkool.com/en/ascii-art-generator?hl=default\u0026amp;vl=default\u0026amp;font=Red%20Phoenix\u0026amp;text=Your%20text%20here%20 draw https://www.draw.io/index.html kubernetes https://kubernetes.io/ ","title":"Tools Daily Tips"},{"content":"Docker Daily Tips clear all containers docker stop $(docker ps -q) \u0026amp;\u0026amp; docker rm $(docker ps -aq) docker pull:error response from daemon yum install bind-utils dig @114.114.114.114 registry-1.docker.io echo \u0026#34;54.175.43.85 registry-1.docker.io\u0026#34; \u0026gt;\u0026gt; /etc/hosts clear specified containers docker stop $(docker ps -a|grep hours|awk \u0026#39;{print $1}\u0026#39;) \u0026amp;\u0026amp; docker rm $(docker ps -a|grep hours|awk \u0026#39;{print $1}\u0026#39;) create docker https registry mkdir -p /opt/docker/registry/certs openssl req -newkey rsa:4096 -nodes -sha256 -keyout /opt/docker/registry/certs/domain.key -x509 -days 365 -out /opt/docker/registry/certs/domain.crt docker run -d --name registry2 -p 5000:5000 -v /opt/docker/registry/certs:/certs -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key registry:2 use docker https registry scp /opt/docker/registry/certs/domain.crt /etc/docker/certs.d/registry.docker.com:5000/ca.crt docker pull busybox:latest docker tag busybox registry.docker.com:5000/busybox:latest docker push registry.docker.com:5000/busybox:latest curl -X GET https://registry.docker.com:5000/v2/_catalog -k ","permalink":"https://sacredartr.github.io/posts/docker-daily-tips/","summary":"Docker Daily Tips clear all containers docker stop $(docker ps -q) \u0026amp;\u0026amp; docker rm $(docker ps -aq) docker pull:error response from daemon yum install bind-utils dig @114.114.114.114 registry-1.docker.io echo \u0026#34;54.175.43.85 registry-1.docker.io\u0026#34; \u0026gt;\u0026gt; /etc/hosts clear specified containers docker stop $(docker ps -a|grep hours|awk \u0026#39;{print $1}\u0026#39;) \u0026amp;\u0026amp; docker rm $(docker ps -a|grep hours|awk \u0026#39;{print $1}\u0026#39;) create docker https registry mkdir -p /opt/docker/registry/certs openssl req -newkey rsa:4096 -nodes -sha256 -keyout /opt/docker/registry/certs/domain.key -x509 -days 365 -out /opt/docker/registry/certs/domain.","title":"Docker Daily Tips"},{"content":"Git Daily Tips git subsequent commit git commit --amend git case sensitive git config core.ignorecase false git mv -f old new ","permalink":"https://sacredartr.github.io/posts/git-daily-tips/","summary":"Git Daily Tips git subsequent commit git commit --amend git case sensitive git config core.ignorecase false git mv -f old new ","title":"Git Daily Tips"},{"content":"Linux Daily Tips clear file cat /dev/null \u0026gt; file xargs ls ./* | xargs -i cp {} /tmp/ sed sed -i \u0026#39;s/password: .*/password: 123456/g\u0026#39; file awk cat file | awk \u0026#39;$1 ~ /th/ {print $1}\u0026#39; ignore error message unalias cp 2\u0026gt;/dev/null || true file append content echo \u0026#39;content\u0026#39; \u0026gt;\u0026gt; file login to get token token=$(curl -X POST \u0026#34;http://$external_ip/api/v1/login\u0026#34; --header \u0026#39;Content-Type: application/json\u0026#39; --data \u0026#39;{\u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;,\u0026#34;password\u0026#34;: \u0026#34;******\u0026#34;}\u0026#39; | awk -F\u0026#34;[,:}]\u0026#34; \u0026#39;{for(i=1;i\u0026lt;=NF;i++){print $(i+1)}}\u0026#39; | tr -d \u0026#39;\u0026#34;\u0026#39; | sed -n 1p) ","permalink":"https://sacredartr.github.io/posts/linux-daily-tips/","summary":"Linux Daily Tips clear file cat /dev/null \u0026gt; file xargs ls ./* | xargs -i cp {} /tmp/ sed sed -i \u0026#39;s/password: .*/password: 123456/g\u0026#39; file awk cat file | awk \u0026#39;$1 ~ /th/ {print $1}\u0026#39; ignore error message unalias cp 2\u0026gt;/dev/null || true file append content echo \u0026#39;content\u0026#39; \u0026gt;\u0026gt; file login to get token token=$(curl -X POST \u0026#34;http://$external_ip/api/v1/login\u0026#34; --header \u0026#39;Content-Type: application/json\u0026#39; --data \u0026#39;{\u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;,\u0026#34;password\u0026#34;: \u0026#34;******\u0026#34;}\u0026#39; | awk -F\u0026#34;[,:}]\u0026#34; \u0026#39;{for(i=1;i\u0026lt;=NF;i++){print $(i+1)}}\u0026#39; | tr -d \u0026#39;\u0026#34;\u0026#39; | sed -n 1p) ","title":"Linux Daily Tips"}]